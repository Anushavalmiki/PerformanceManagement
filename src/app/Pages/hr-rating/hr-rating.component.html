<div class="container-fluid Pages_background ">
    <div class="row">
        <div class="col-lg-6">
            <h4 class="header">Employee Appraisal</h4>
        </div>
        <div class="col-lg-3">
        </div>
        <div class="col-lg-3">
            <div class="row mainrow">
                <div class="col-lg-12 BreadChrumbProperties" style="margin-bottom: 40px;">
                    <span class="building"></span>
                </div>
            </div>
        </div>
    </div>
    <div class="shadow p-3 mb-5 bg-white rounded   maincard ">
        <form #loginForm="ngForm">
            <br>
            <div class="row">
                <div class="col-lg-1">
                </div>
                <div class="col-lg-2">
                    <p style="padding:5px">
                        KRA<span style="color: red;">*</span> </p>
                </div>
                <div class="col-lg-5">
                    <select class="dropdown form-control" id="ResultArea" name="ResultArea" [(ngModel)]="ResultAreaID"
                        required>
                        <option value="0">Select KRA</option>
                        <option *ngFor="let value of ResultAreaList" value="{{value.kraid}}">
                            {{value.kraName}}
                        </option>
                    </select>
                </div>
     
                <div class="col-lg-3">
                    <p>Self Score = {{empscore}}</p>
                </div>
             


            </div>
            <br>
            <div class="row">
                <div class="col-lg-1">
                </div>
                <div class="col-lg-2">
                    <p style="padding:5px">
                        Performance Indicator <span style="color: red;">*</span></p>
                </div>
                <div class="col-lg-5">
                    <ckeditor id="Description" name="Description" [(ngModel)]="Description"
                        data="<p>Enter Answer Here !</p>"></ckeditor>
                     <!-- <textarea class="form-control" id="Description" [(ngModel)]="Description" name="Description"
                        placeholder="Performance Indicator" rows="4" required></textarea> -->
                </div>
                <div class="col-lg-2">
                    <!-- <textarea class="form-control" id="empcomments" [(ngModel)]="empcomments" name="empcomments"
                        disabled placeholder="empcomments" rows="4" required></textarea> --> 
                   <button class="form-control edit" data-toggle="modal" data-target="#exampleModal">Employee Comments</button>

                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-lg-1">
                </div>
                <div class="col-lg-2">
                    <p style="padding:5px">
                        Score <span style="color: red;">*</span> </p>
                </div>
                <div class="col-lg-5">
                    <select class="dropdown form-control" id="Score" name="Score" [(ngModel)]="Score"
                        (change)="GetScore($event)" required>
                        <option value="0">Select Score</option>
                        <option *ngFor="let value of list" value="{{value.id}}">{{value.score}} - {{value.answers}}
                        </option>
                    </select>
                </div>
                <div class="col-lg-3">
                    <p>Manager  Score = {{managerscore}} </p>
                </div>
               

                <!-- <div class="col-lg-8" style="text-align: justify;">
                    <ckeditor id="chapterText" name="chapterText" [(ngModel)]="chapterText"
                        data="<p>Enter Answer Here !</p>"></ckeditor>
                </div> -->

            </div>
            <br>

            <div class="row">
                <div class="col-lg-1">
                </div>
                <div class="col-lg-2">
                    <p style="padding:5px">
                        Comments <span style="color: red;">*</span> </p>
                </div>
                <div class="col-lg-5">
                    <!-- <textarea class="form-control" id="SelfComments" [(ngModel)]="SelfComments" name="SelfComments"
                        placeholder="Comments" rows="4" required></textarea> -->
                        <ckeditor id="SelfComments" name="SelfComments" [(ngModel)]="SelfComments"
                        data="<p>Enter Answer Here !</p>"></ckeditor>
                </div>
                <div class="col-lg-2">
                    <!-- <textarea class="form-control" id="managercomments" [(ngModel)]="managercomments"  name="managercomments"
                        disabled placeholder="managercomments" rows="4" required></textarea> -->
                        <button class="form-control edit" data-toggle="modal" data-target="#exampleModal1">Manager Comments</button>
                </div>
                
            </div>
            <br>
            <div class="row">
                <div class="col-lg-5">
                </div>
                <!-- <div class="col-lg-2" *ngIf="tablecount==1">
                <button class="btn btn-block btn-md"
                  style="background-color:#3247d5;margin-left: -109px;color:white;border-color: rgba(20, 21, 31, 0.20);"
                  (click)="insertdetails1()">Save</button>
              </div> -->

                <div class="col-lg-2" *ngIf="tablecount==2 ">
                    <button class="btn btn-block btn-md"
                        style="background-color:#3247d5;margin-left: -109px;color:white;border-color: rgba(20, 21, 31, 0.20);"
                        (click)="Preview()">Preview</button>
                </div>
                <div class="col-lg-1" *ngIf="tablecount!=2 && TableNextPrevHide!=1">
                    <button style="    margin-top: 2px;
                        width: 100px;
                        margin-left: -134px;
                        height: 33px;
                    " (click)="prev()" type="button" class="btn btn-primary  btn-sm edit">Prev </button>
                </div>&nbsp;&nbsp;
                <div class="col-lg-1" *ngIf="tablecount!=2 && TableNextPrevHide!=1">
                    <button style="    margin-top: 2px;
                        width: 100px;
                        margin-left: -119px;
                        height: 33px;
                    " (click)="next()" type="button" class="btn btn-primary  btn-sm edit">Next </button>
                </div>
                <div class="col-lg-4">
                </div>
                <br>
            </div>

            <div class="table-responsive card maincard" *ngIf="tablecount==1">
                <br>
                <table>
                    <tbody>
                        <tr class="tableheader tableheaderfont">
                            <th style="width:15%">KRA</th>
                            <th style="width:15%">KPI</th>
                            <th style="width:15%">Scores</th>
                            <th style="width:15%">Comments</th>
                            <!-- <th style="width:10%">Actions</th> -->
                        </tr>
                        <tr *ngFor="let details of appraisalList">
                            <td>{{details.resultAreaName}}</td>
                            <td>{{details.performanceindicatorName}}</td>
                            <td>{{details.SelfScores}}</td>
                            <td>{{details.SelfComments}}</td>
                            <!-- <td>
                                <img src="assets/images/dell.png" style="width: 20px;">
                            </td> -->
                        </tr>
                    </tbody>
                </table><br>
                <div class="row" *ngIf="tablecount==1">
                    <div class="col-lg-5">
                    </div>
                    <div class="col-lg-2">
                        <button class="btn btn-block btn-md"
                            style="background-color:#3247d5;color:white;border-color: rgba(20, 21, 31, 0.20);"
                            (click)="insertdetails1()">Submit Appraisal</button>
                    </div>
                    <div class="col-lg-5">
                    </div>
                </div>
            </div>
        </form>
        <br>
        <hr>
    </div>
</div>




<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Employee Comments</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">       
                 <p class="form-control"  id="empcomments" [(ngModel)]="empcomments" name="empcomments"
                        disabled placeholder="empcomments" rows="4" required></p>         
        </div>
        <div class="modal-footer">
            <div class="row">
                <div class="col-lg-10"></div>
                <div class="col-lg-2">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>        
          <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
        </div>
      </div>
    </div>
  </div>




  
<div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Manager Comments</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
              <div class="col-lg-12">
                <textarea class="form-control" id="managercomments" [(ngModel)]="managercomments"  name="managercomments"
                        disabled placeholder="managercomments" rows="4" required></textarea> 
              </div>
          </div>
        </div>
        <div class="modal-footer">
            <div class="row">
                <div class="col-lg-10"></div>
                <div class="col-lg-2">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
         
          <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
        </div>
      </div>
    </div>
  </div>
